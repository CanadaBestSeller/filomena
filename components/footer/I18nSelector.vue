<template>
  <div class="dropup" @mouseover="showDropup()">
    <b-link class="text-decoration-none">
      ðŸŒŽ
    </b-link>
    <div class="dropup-content" @click="hideDropup()" @mouseleave="hideDropup()">
      <b-link @click="switchLocale('en')">ðŸ‡ºðŸ‡¸ <span class="locale-text">English</span></b-link>
      <b-link @click="switchLocale('fr')">ðŸ‡«ðŸ‡· <span class="locale-text">FranÃ§ais</span></b-link>
      <b-link @click="switchLocale('zh')">ðŸ‡¨ðŸ‡³ <span class="locale-text">ä¸­æ–‡</span></b-link>
    </div>
  </div>
</template>

<script>
export default {
  methods: {
    showDropup () {
      this.$el.querySelector('.dropup-content').style.display = 'block'
    },
    hideDropup () {
      this.$el.querySelector('.dropup-content').style.display = 'none'
    },
    switchLocale (locale) {
      this.$i18n.setLocale(locale)
    }
  }
}
</script>

<style>
/* Make locale text smaller */
.locale-text {
  position: relative;
  font-size: 1rem;
  bottom: .2rem;
}

.dropup {
  position: relative;
}

/* Dropup content (Hidden by Default) */
.dropup-content {
  display: none;
  position: absolute;
  bottom: 2.2rem;
  min-width: 7rem;
  z-index: 1;
}

/* Links inside the dropup */
.dropup-content a {
  display: block;
}
</style>
